
–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ–¥–µ—Ä–∂–∞–Ω–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∞—Ç–∞—Å–µ—Ç Car Price Prediction —Å Kaggle, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞—Ä–∫–µ, –≥–æ–¥–µ –≤—ã–ø—É—Å–∫–∞, –ø—Ä–æ–±–µ–≥–µ, —Ç–∏–ø–µ —Ç–æ–ø–ª–∏–≤–∞ –∏ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π.>


## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <https://github.com/YakovlevaAL/iis/tree/main>
cd /iis


–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv .venv_my_proj
source .venv_my_proj/bin/activate


–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
my_proj/
‚îú‚îÄ‚îÄ data/                 # –ò—Å—Ö–æ–¥–Ω—ã–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ car_data.csv      # –ò—Å—Ö–æ–¥–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ clean_car_data.pkl # –û—á–∏—â–µ–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
‚îú‚îÄ‚îÄ eda/                  # –†–∞–∑–≤–µ–¥–æ—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ eda.ipynb         # –ë–ª–æ–∫–Ω–æ—Ç —Å –∞–Ω–∞–ª–∏–∑–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ correlation_heatmap.png
‚îÇ   ‚îú‚îÄ‚îÄ interactive_scatter.png
‚îÇ   ‚îú‚îÄ‚îÄ price_distribution.png
‚îÇ   ‚îú‚îÄ‚îÄ price_vs_year_mileage.png
‚îÇ   ‚îî‚îÄ‚îÄ price_by_fuel_transmission.png
‚îú‚îÄ‚îÄ .venv_my_proj/        # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ .gitignore            # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
‚îú‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—á–∏—â–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞—Ç–∞—Å–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- ** 299 –ó–∞–ø–∏—Å–µ–π**: 

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- `Car_Name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è (object)
- `Year` - –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞ (int64)
- `Selling_Price` - —Ü–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ (float64)
- `Present_Price` - —Ç–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞ (float64)
- `Driven_kms` - –ø—Ä–æ–±–µ–≥ (int64)
- `Fuel_Type` - —Ç–∏–ø —Ç–æ–ø–ª–∏–≤–∞ (category)
- `Selling_type` - —Ç–∏–ø –ø—Ä–æ–¥–∞–≤—Ü–∞ (category)
- `Transmission` - —Ç–∏–ø —Ç—Ä–∞–Ω—Å–º–∏—Å—Å–∏–∏ (category)
- `Owner` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (int64)
- `Car_Age` - –≤–æ–∑—Ä–∞—Å—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—è (int64)



–í—ã–≤–æ–¥ –ø–æ –≥—Ä–∞—Ñ–∏–∫—É price_vs_year_mileage.png: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω –ø—Ä–æ–¥–∞–∂–∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—é—é –∞—Å–∏–º–º–µ—Ç—Ä–∏—é. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –ø—Ä–æ–¥–∞—é—Ç—Å—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 2-10 , –ø—Ä–∏ —ç—Ç–æ–º –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤—ã–±—Ä–æ—Å—ã - –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –ø—Ä–µ–º–∏—É–º-—Å–µ–≥–º–µ–Ω—Ç–∞ —Å —Ü–µ–Ω–∞–º–∏ –≤—ã—à–µ 15. –ú–µ–¥–∏–∞–Ω–Ω–∞—è —Ü–µ–Ω–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–∫–æ–ª–æ 5-6.

–í—ã–≤–æ–¥ –ø–æ –≥—Ä–∞—Ñ–∏–∫—É price_distribution.png: –ù–∞–±–ª—é–¥–∞–µ—Ç—Å—è —Å–∏–ª—å–Ω–∞—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –º–µ–∂–¥—É –≥–æ–¥–æ–º –≤—ã–ø—É—Å–∫–∞ –∏ —Ü–µ–Ω–æ–π - –±–æ–ª–µ–µ –Ω–æ–≤—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ —Å—Ç–æ—è—Ç –¥–æ—Ä–æ–∂–µ. –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –ø—Ä–æ–±–µ–≥–æ–º - –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ —Å –±–æ–ª—å—à–∏–º –ø—Ä–æ–±–µ–≥–æ–º –¥–µ—à–µ–≤–µ—é—Ç. –ü—Ä–∏ —ç—Ç–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ–ª–∏–Ω–µ–π–Ω–∞—è.

–í—ã–≤–æ–¥ –ø–æ –≥—Ä–∞—Ñ–∏–∫—É price_by_fuel_transmission.png: –î–∏–∑–µ–ª—å–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ –≤ —Å—Ä–µ–¥–Ω–µ–º –¥–æ—Ä–æ–∂–µ –±–µ–Ω–∑–∏–Ω–æ–≤—ã—Ö, –∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–Ω—Å–º–∏—Å—Å–∏–µ–π –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –¥–æ—Ä–æ–∂–µ –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏—Ö. –¢–∏–ø —Ç–æ–ø–ª–∏–≤–∞ CNG –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å —Å–∞–º—ã–º–∏ –Ω–∏–∑–∫–∏–º–∏ —Ü–µ–Ω–∞–º–∏.

–í—ã–≤–æ–¥ –ø–æ –≥—Ä–∞—Ñ–∏–∫—É correlation_heatmap.png: –ù–∞–±–ª—é–¥–∞–µ—Ç—Å—è —Å–∏–ª—å–Ω–∞—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –º–µ–∂–¥—É —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–æ–π –∏ —Ü–µ–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏ (0.88).

–í—ã–≤–æ–¥ –ø–æ –≥—Ä–∞—Ñ–∏–∫—É interactive_scatter.png: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–æ–≤: –Ω–æ–≤—ã–µ –¥–∏–∑–µ–ª—å–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ —Å –≤—ã—Å–æ–∫–∏–º–∏ —Ç–µ–∫—É—â–∏–º–∏ —Ü–µ–Ω–∞–º–∏ –æ–±—Ä–∞–∑—É—é—Ç –∫–ª–∞—Å—Ç–µ—Ä —Å–∞–º—ã—Ö –¥–æ—Ä–æ–≥–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π. –ë–µ–Ω–∑–∏–Ω–æ–≤—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –±–æ–ª–µ–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –ø–æ —Ü–µ–Ω–æ–≤—ã–º —Å–µ–≥–º–µ–Ω—Ç–∞–º.


–°–æ–∑–¥–∞–Ω –ø—Ä–∏–∑–Ω–∞–∫ 'Car_Age'
–°–æ–∑–¥–∞–Ω –ø—Ä–∏–∑–Ω–∞–∫ 'Log_Selling_Price'
–°–æ–∑–¥–∞–Ω –ø—Ä–∏–∑–Ω–∞–∫ 'Mileage_Category'
–°–æ–∑–¥–∞–Ω –ø—Ä–∏–∑–Ω–∞–∫ 'Is_Premium'
–ù–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å–æ–∑–¥–∞–Ω—ã —É—Å–ø–µ—à–Ω–æ!
–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤: 13

–û—á–∏—â–µ–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ '/home/mainuser/iis/data/clean_car_data.pkl'
–§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞: 299 –∑–∞–ø–∏—Å–µ–π, 9 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 0.02 –ú–ë
–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

    pandas - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

    matplotlib - –±–∞–∑–æ–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏

    seaborn - —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

    numpy - —á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

    jupyter - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –±–ª–æ–∫–Ω–æ—Ç—ã

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
cat requirements.txt



# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ–ª—å–∫–æ 6 –ø–∞–∫–µ—Ç–æ–≤
pandas==2.3.3
matplotlib==3.10.7
seaborn==0.13.2
numpy==2.2.6
jupyter==1.1.1
scikit-learn==1.5.2
### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:
```bash
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è
git status

# –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
git add README.md requirements.txt .gitignore eda/eda.ipynb eda/*.png

# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git commit -m "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã ‚Ññ1: EDA –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ GitHub
git push origin main

# IIS MLflow Project

–ü—Ä–æ–µ–∫—Ç –ø–æ –º–∞—à–∏–Ω–Ω–æ–º—É –æ–±—É—á–µ–Ω–∏—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MLflow –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤.

## –ó–∞–ø—É—Å–∫ MLFlow

MLFlow –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
mlflow server \
    --backend-store-uri sqlite:///mlflow.db \
    --default-artifact-root ./mlartifacts \
    --host 0.0.0.0 \
    --port 5000

 –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
–õ—É—á—à–∞—è –º–æ–¥–µ–ª—å: baseline_final

–ú–µ—Ç—Ä–∏–∫–∞: 1.18 (—á–µ–º –º–µ–Ω—å—à–µ, —Ç–µ–º –ª—É—á—à–µ)

Run ID Production –º–æ–¥–µ–ª–∏: $(python3 -c "from mlflow.tracking import MlflowClient; client = MlflowClient(); prod_versions = client.get_latest_versions('baseline_final', stages=['Production']); print(prod_versions[0].run_id if prod_versions else 'NOT_FOUND')")

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏:

    –ê–ª–≥–æ—Ä–∏—Ç–º: CatBoost

    –ú–æ–¥–µ–ª—å: CatBoostRegressor/native

–í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∏—á–∏: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —Ñ–∏—á–µ–π –ø–æ—Å–ª–µ feature selection

–°—Ç–∞—Ç—É—Å: –ú–æ–¥–µ–ª—å –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–∞ –≤ Production –≤ MLflow Model Registry   

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

sudo docker run -d -p 8000:8000 \
-v $(pwd)/../models:/models \
--name car-service \
car-price-predictor:1

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
sudo docker ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
sudo docker logs car-service

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
sudo docker stop car-service

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
sudo docker rm car-service

# –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞
sudo docker rmi car-price-predictor:1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8000/health

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ endpoint'–æ–≤

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ endpoint
curl http://localhost:8000/

# –û—Ç–≤–µ—Ç:
# {"Hello":"World"}

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–æ–¥–µ–ª–∏
curl http://localhost:8000/model-info

# –û—Ç–≤–µ—Ç:
# {"model_type":"<class 'sklearn.ensemble._forest.RandomForestRegressor'>","features_count":8,"feature_names":["Car_Name","Year","Present_Price","Driven_kms","Fuel_Type","Selling_type","Transmission","Owner"]}

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

curl -X POST "http://localhost:8000/api/prediction?item_id=123" \
-H "Content-Type: application/json" \
-d '{
"Car_Name": "verna",
"Year": 2015,
"Present_Price": 9.4,
"Driven_kms": 61381,
"Fuel_Type": "Petrol",
"Selling_type": "Dealer",
"Transmission": "Manual",
"Owner": 0
}'

–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):

{
"Car_Name": "verna",
"Year": 2015,
"Present_Price": 9.4,
"Driven_kms": 61381,
"Fuel_Type": "Petrol",
"Selling_type": "Dealer",
"Transmission": "Manual",
"Owner": 0
}
{
"item_id": 123,
"price": 5.107225942139497
}

–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
source .venv_new/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r services/ml_service/requirements.txt

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
cd services/ml_service
uvicorn main:app --reload --host 0.0.0.0 --port 8000
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
cd services/models
python get_model.py

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –º–æ–¥–µ–ª–∏
python create_test_model.py



### üöÄ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **–ë—ç–∫–µ–Ω–¥**: Python 3.11, FastAPI, Uvicorn
- **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**: Scikit-learn, Pandas, NumPy
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker, Docker Compose
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: Prometheus, Grafana
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ), pgAdmin
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Requests, Custom load testing service
- **–ú–µ—Ç—Ä–∏–∫–∏**: Prometheus Client –¥–ª—è Python
is/
‚îú‚îÄ‚îÄ services/
‚îÇ ‚îú‚îÄ‚îÄ ml_service/ # ML-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å (FastAPI)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ main.py # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ api_handler.py # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ ML-–º–æ–¥–µ–ª–∏
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ model.pkl # –°–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è ML-–º–æ–¥–µ–ª—å
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ Dockerfile # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–∞
‚îÇ ‚îú‚îÄ‚îÄ requests/ # –°–µ—Ä–≤–∏—Å –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ request_sender.py # –°–∫—Ä–∏–ø—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ requirements.txt # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requests)
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ Dockerfile # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker –æ–±—Ä–∞–∑–∞
‚îÇ ‚îú‚îÄ‚îÄ prometheus/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ prometheus.yml # –ö–æ–Ω—Ñ–∏–≥ Prometheus (—Ü–µ–ª–∏, –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã)
‚îÇ ‚îú‚îÄ‚îÄ grafana/ # –î–∞—à–±–æ—Ä–¥—ã Grafana (—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ)
‚îÇ ‚îú‚îÄ‚îÄ database/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ data/ # –¢–æ–º–∞ –¥–ª—è PostgreSQL
‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ pgadmin/ # –¢–æ–º–∞ –¥–ª—è pgAdmin
‚îÇ ‚îî‚îÄ‚îÄ compose.yml # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ screenshots/ # –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ .venv_new/ # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
‚îú‚îÄ‚îÄ .gitignore # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã Git
‚îî‚îÄ‚îÄ README.md # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è


### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- Git –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/YakovlevaAL/iis.git
cd iis

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
cd services
docker-compose up -d


# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f ml_service
docker-compose logs -f prometheus

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker-compose up -d --build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps


# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv .venv_new
source .venv_new/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r services/ml_service/requirements.txt
pip install -r services/requests/requirements.txt

# –ó–∞–ø—É—Å–∫ ML-—Å–µ—Ä–≤–∏—Å–∞ –ª–æ–∫–∞–ª—å–Ω–æ
cd services/ml_service
uvicorn main:app --reload --port 8000

# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
cd ../requests
python request_sender.py


–°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤

# ML-—Å–µ—Ä–≤–∏—Å
cd services/ml_service
docker build -t car-price-predictor:3 .

# –°–µ—Ä–≤–∏—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
cd ../requests
docker build -t requests-service:1 .